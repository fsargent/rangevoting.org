<html>
<head>
<link rel="stylesheet" href="/assets/css/original-layout.css">

<title>
RangeVoting.org - Java normal distribution calculator II
</title>
<META NAME="DC.title" CONTENT="Normal Percentages and Quantiles">
<META NAME="DC.creator" CONTENT="Sundar Dorai-Raj">
<META NAME="DC.subject" CONTENT="Normal Gaussian T Student F Fisher Percentages Quantiles Algorithm Fast Integral Computing Calculating Efficient Approximation">
<META NAME="DC.description" CONTENT="An efficient algorithm for computing normal quantiles and percentages written in JavaScript.">
<META NAME="DC.contributors" CONTENT="P. Griffiths, I. D. Hill, J. D. Beasley, S. G. Springer">
<META NAME="DC.date" CONTENT="20000718">
<META NAME="DC.type" CONTENT="Text">
<META NAME="DC.format" CONTENT="html">
<META NAME="DC.identifier" CONTENT="http://www.stat.vt.edu/~sundar/java/code/normal_js.html">
<META NAME="DC.source" CONTENT="Applied Statistics Algorithms">
<META NAME="DC.language" CONTENT="ENG">
<link rel="stylesheet" title="default" href="https://rangevoting.org/styles/default.css" type="text/css">

<script language="JavaScript">
<!--
  function qnorm(form) {
    // ALGORITHM AS 111, APPL.STATIST., VOL.26, 118-121, 1977.
    // Computes z=invNorm(p)
    p=parseFloat(form.percent.value);
    split=0.42;
    a0=  2.50662823884;
    a1=-18.61500062529;
    a2= 41.39119773534;
    a3=-25.44106049637;
    b1= -8.47351093090;
    b2= 23.08336743743;
    b3=-21.06224101826;
    b4=  3.13082909833;
    c0= -2.78718931138;
    c1= -2.29796479134;
    c2=  4.85014127135;
    c3=  2.32121276858;
    d1=  3.54388924762;
    d2=  1.63706781897;
    q=p-0.5;
    if(Math.abs(q)<=split) {
      r=q*q;
      ppnd=q*(((a3*r+a2)*r+a1)*r+a0)/((((b4*r+b3)*r+b2)*r+b1)*r+1);
    }
    else {
      r=p;
      if(q>0) r=1-p;
      if(r>0) {
        r=Math.sqrt(-Math.log(r));
        ppnd=(((c3*r+c2)*r+c1)*r+c0)/((d2*r+d1)*r+1);
        if(q<0) ppnd=-ppnd;
      }
      else {
        ppnd=0;
      }
    }
    form.quant.value=ppnd;
  }
// -->
</script>
</head>
<body bgcolor=#dddddd>
<h2><font color=#000099>qnorm.js</font></h2><p>
<ul>
<h2>Normal Quantiles</h2>
(See also: 
<a href="NHack.html">pnorm.js</a>)

<form>
  Enter Normal Probability integral from -&infin; to x (value between 0 and 1 please): <input type=text value="0.05" name=percent size=6>
  <br>

  <input type=button value="Calculate" onClick="qnorm(this.form)">
  <p>
  Here's your answer (x = #StdDevs off mean): <input type=text value="" name=quant size=35>
</form>
</ul>
<hr size=1>
<b>Usage: </b>p=qnorm(0.05); <font color=#555555><i>// returns -1.6448536279366273</i></font>
<hr size=1>
Source code:
<ul>

<pre>
/** * @(#)qnorm.js * * Copyright (c) 2000 by Sundar Dorai-Raj
  * * @author Sundar Dorai-Raj
  * * Email: <a href="https://rangevoting.org/contact.html" target="_blank"><font face="Courier New,Courier,Monospace">sdoraira@vt.edu</font></a>
  * * This program is free software; you can redistribute it and/or
  * * modify it under the terms of the GNU General Public License 
  * * as published by the Free Software Foundation; either version 2 
  * * of the License, or (at your option) any later version, 
  * * provided that any use properly credits the author. 
  * * This program is distributed in the hope that it will be useful,
  * * but WITHOUT ANY WARRANTY; without even the implied warranty of
  * * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  * * GNU General Public License for more details at <a href="http://www.gnu.org" target="_blank"><font face="Courier New,Courier,Monospace">http://www.gnu.org</font></a> * * */

  function qnorm(p) {
    // ALGORITHM AS 111, APPL.STATIST., VOL.26, 118-121, 1977.
    // Computes z=invNorm(p)
    p=parseFloat(p);
    split=0.42;
    a0=  2.50662823884;
    a1=-18.61500062529;
    a2= 41.39119773534;
    a3=-25.44106049637;
    b1= -8.47351093090;
    b2= 23.08336743743;
    b3=-21.06224101826;
    b4=  3.13082909833;
    c0= -2.78718931138;
    c1= -2.29796479134;
    c2=  4.85014127135;
    c3=  2.32121276858;
    d1=  3.54388924762;
    d2=  1.63706781897;
    q=p-0.5;
    if(Math.abs(q)&lt;=split) {
      r=q*q;
      ppnd=q*(((a3*r+a2)*r+a1)*r+a0)/((((b4*r+b3)*r+b2)*r+b1)*r+1);
    }
    else {
      r=p;
      if(q&gt;0) r=1-p;
      if(r&gt;0) {
        r=Math.sqrt(-Math.log(r));
        ppnd=(((c3*r+c2)*r+c1)*r+c0)/((d2*r+d1)*r+1);
        if(q&lt;0) ppnd=-ppnd;
      }
      else {
        ppnd=0;
      }
    }
    return(ppnd);
  }
</pre>
</ul>
<center>
<table border=3 cellpadding=4 bgcolor=#ffffff>

  <tr><td>
    <font size=3>
    <a href="index.html"><font color=#6699ff>Home</font></a> | 
    <a href="https://rangevoting.org/resume.html"><font color=#6699ff>Resume</font></a> | 
    <a href="index.html"><font color=#6699ff>Java Page</font></a> | 
    <a href="https://rangevoting.org/applets/"><font color=#6699ff>Statistical Java</font></a> | 
    <a href="https://rangevoting.org/contact.html"><font color=#6699ff>Contact Me</font></a> | 
    <a href="https://rangevoting.org/stat3704/"><font color=#6699ff>STAT 3704</font></a>

    </font>
  </td></tr>
</table>
</center>

<br>
<p><a href="RangeVoting.html">Return to main page</a></p>
<!-- Start of StatCounter Code -->
<script type="text/javascript" language="javascript">
var sc_project=1613646; 
var sc_invisible=1; 
var sc_partition=15; 
var sc_security="a35ff8fb"; 
</script>

<script type="text/javascript" language="javascript" src="http://www.statcounter.com/counter/counter.js"></script><noscript><a href="http://www.statcounter.com/" target="_blank"><img  src="http://c16.statcounter.com/counter.php?sc_project=1613646&amp;java=0&amp;security=a35ff8fb&amp;invisible=1" alt="php hit counter" border="0"></a> </noscript>
<!-- End of StatCounter Code to be inserted immediately before the /body command near end of your page -->
</body>
</html>

